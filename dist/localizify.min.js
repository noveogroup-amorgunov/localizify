!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.localizify=e():t.localizify=e()}("undefined"!=typeof window?window:this,function(){return n={},r.m=o=[function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var l,s,a=o(1),u=o(2);(s=l=e.EventTypes||(e.EventTypes={})).ChangeLocale="CHANGE_LOCALE",s.TranslationNotFound="TRANSLATION_NOT_FOUND",s.ReplacedDataNotFound="REPLACED_DATA_NOT_FOUND";var c,p=(c=u.EventEmitter,r(f,c),f.prototype.getStore=function(){return this.store},f.prototype.getLocale=function(){return this.getStore().locale},f.prototype.setLocale=function(t){var e=this.getStore().locale;return this.isLocale(t)&&e!==t&&(this.getStore().locale=t,this.emit(l.ChangeLocale,t,e)),this},f.prototype.isLocale=function(t){return-1!==this.getStore().localesList.indexOf(t)},f.prototype.onLocaleChange=function(t){return this.on(l.ChangeLocale,t),t},f.prototype.onTranslationNotFound=function(t){this.on(l.TranslationNotFound,t)},f.prototype.onReplacedDataNotFound=function(t){this.on(l.ReplacedDataNotFound,t)},f.prototype.setDefaultScope=function(t){return this.getStore().scope=t,this},f.prototype.clearDefaultScope=function(){return this.getStore().scope=null,this},f.prototype.registerInterpolations=function(t){return Object.assign(this.getStore().interpolations,t),this},f.prototype.add=function(t,e,o){var n=this.getStore(),r=e;return o&&((r={})[e]=o),this.isLocale(t)||n.localesList.push(t),n.translations[t]=i(i({},n.translations[t]),r),n.normalizedKeys[t]=i(i({},n.normalizedKeys[t]),a.normalize(r)),this},f.prototype.detectLocale=function(t){var e=t;if(a.isBrowser()&&!e&&(e=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage),!e)return!1;var o=e.toLowerCase().split(/[_-]+/)[0];return!!this.isLocale(o)&&o},f.prototype.replaceData=function(n,r){var i=this,s=n;return(s.match(/\{(.*?)\}/gi)||[]).forEach(function(t){var e=t.replace(/[{}]/gi,""),o=[r[e],i.getStore().interpolations[e],t].find(function(t){return void 0!==t});o===t&&i.emit(l.ReplacedDataNotFound,n,t,r),s=s.replace(t,o)}),s},f.prototype.translate=function(t,e,o){if(void 0===e&&(e={}),!t)throw new Error('"key" param is required');var n=e.locale,r=e.scope,i=void 0===r?this.getStore().scope:r,s=o&&this.getStore().localesList.includes(o)?o:this.isLocale(n)&&n||this.getStore().locale;if(!s)throw new Error("Current locale is not defined");var a=this.getStore().normalizedKeys[s],u=(i?i+".":"")+t,c=a&&a[u];return c||this.emit(l.TranslationNotFound,s,t,i),this.replaceData(c?a[u]:t,e)},f);function f(){var t=null!==c&&c.apply(this,arguments)||this;return t.store={locale:"en",localesList:["en"],scope:null,translations:{},interpolations:{},normalizedKeys:{},separator:"."},t}e.Localizify=p;var h=new(e.Instance=p),d=h.translate.bind(h);e.t=d,e.default=h},function(t,r,e){"use strict";var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<o;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,r++)n[r]=i[s];return n};Object.defineProperty(r,"__esModule",{value:!0});r.normalize=function(e,o,n){var t;return void 0===o&&(o=[]),void 0===n&&(n={}),"string"==typeof e?n[o.join(".")]=e:null!==(t=e)&&"[object Object]"===Object.prototype.toString.call(t)&&Object.keys(e).forEach(function(t){r.normalize(e[t],i(o,[t]),n)}),n},r.isBrowser=function(){return"undefined"!=typeof window&&window.document&&window.document.createElement}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.getListeners=function(t){return this.listeners[t]||[]},r.prototype.on=function(t,e){if("function"!=typeof e)throw new TypeError("Listener must be a function");return-1===this.getListeners(t).indexOf(e)&&(this.hasListeners(t)||(this.listeners[t]=[]),this.listeners[t].push(e)),e},r.prototype.off=function(t,e){if(this.hasListeners(t)){var o=this.getListeners(t);this.listeners[t]=o.filter(function(t){return e!==t})}return this},r.prototype.emit=function(t){for(var e=this,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];return this.getListeners(t).forEach(function(t){return t.apply(e,o)}),this},r.prototype.hasListeners=function(t){return 0<this.getListeners(t).length},r);function r(){this.listeners={}}e.EventEmitter=n}],r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0);function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var o,n});